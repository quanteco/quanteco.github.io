<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en-US" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang="en-US" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en-US" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns#"> <!--<![endif]-->
<head>
<base href="http://quanteco.github.io." />

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Developing Distance Based Neighborhood Matrices -</title>

<!-- This site is optimized with the Yoast SEO plugin v3.0.7 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://quanteco.github.io./2015/12/15/developing-distance-based-neighborhood-matrices/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Developing Distance Based Neighborhood Matrices -" />
<meta property="og:description" content="For my first few blog posts, I will be porting over some of my previous blogs from another website, and in doing so, updating some of the code base, infrastructure, and content. I figured that I should first start with &hellip; Continued" />
<meta property="og:url" content="http://quanteco.github.io./2015/12/15/developing-distance-based-neighborhood-matrices/" />
<meta property="article:tag" content="autocorrelation" />
<meta property="article:tag" content="dbmem" />
<meta property="article:tag" content="mem" />
<meta property="article:tag" content="Moran&#039;s I" />
<meta property="article:section" content="R" />
<meta property="article:published_time" content="2015-12-15T12:00:51+00:00" />
<meta property="article:modified_time" content="2016-04-06T02:36:17+00:00" />
<meta property="og:updated_time" content="2016-04-06T02:36:17+00:00" />
<meta property="og:image" content="http://quanteco.github.io./wp-content/uploads/2015/01/neighborhood.png" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="For my first few blog posts, I will be porting over some of my previous blogs from another website, and in doing so, updating some of the code base, infrastructure, and content. I figured that I should first start with &hellip; Continued"/>
<meta name="twitter:title" content="Developing Distance Based Neighborhood Matrices -"/>
<meta name="twitter:image" content="http://i1.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/neighborhood.png?fit=600%2C600"/>
<!-- / Yoast SEO plugin. -->



		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/gregorybanderson.elementfx.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.2"}};
			!function(a,b,c){function d(a){var c,d=b.createElement("canvas"),e=d.getContext&&d.getContext("2d"),f=String.fromCharCode;return e&&e.fillText?(e.textBaseline="top",e.font="600 32px Arial","flag"===a?(e.fillText(f(55356,56806,55356,56826),0,0),d.toDataURL().length>3e3):"diversity"===a?(e.fillText(f(55356,57221),0,0),c=e.getImageData(16,16,1,1).data.toString(),e.fillText(f(55356,57221,55356,57343),0,0),c!==e.getImageData(16,16,1,1).data.toString()):("simple"===a?e.fillText(f(55357,56835),0,0):e.fillText(f(55356,57135),0,0),0!==e.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='rb-font-awesome-css'  href='//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css?ver=4.4.0' type='text/css' media='all' />
<link rel='stylesheet' id='rb-styles-css'  href='http://quanteco.github.io./wp-content/plugins/resume-builder/css/resume-builder-styles.css?ver=4.4.2' type='text/css' media='all' />
<link rel='stylesheet' id='easy_table_style-css'  href='http://quanteco.github.io./wp-content/plugins/easy-table/themes/default/style.css?ver=1.5.3' type='text/css' media='all' />
<link rel='stylesheet' id='wp-github-css'  href='http://quanteco.github.io./wp-content/plugins/wp-github/css/wp-github.css?ver=4.4.2' type='text/css' media='all' />
<link rel='stylesheet' id='kadence_theme-css'  href='http://quanteco.github.io./wp-content/themes/virtue/assets/css/virtue.css?ver=262' type='text/css' media='all' />
<link rel='stylesheet' id='virtue_skin-css'  href='http://quanteco.github.io./wp-content/themes/virtue/assets/css/skins/default.css' type='text/css' media='all' />
<link rel='stylesheet' id='redux-google-fonts-virtue-css'  href='http://fonts.googleapis.com/css?family=Lato%3A400&#038;ver=1459708737' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='http://quanteco.github.io./wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='http://quanteco.github.io./wp-content/plugins/jetpack/css/jetpack.css?ver=3.8.2' type='text/css' media='all' />
<script type='text/javascript' src='http://quanteco.github.io./wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/jetpack/modules/related-posts/related-posts.js?ver=20150408'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/file-away/lib/js/alphanum.js?ver=1.0'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/file-away/lib/js/chosen/chosen.js?ver=1.1.0'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/file-away/lib/js/context/contextmenu.js?ver=3.9.6.1'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/file-away/lib/js/footable.js?ver=2.0.1.2'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/file-away/lib/js/filertify.js?ver=0.3.11'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/file-away/lib/js/soundmanager2.js?ver=2.97a.20130101'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var fileaway_mgmt = {"ajaxurl":"http:\/\/gregorybanderson.elementfx.com\/wp-admin\/admin-ajax.php","nonce":"1242e9f9bf","device":"desktop","no_results":"Nothing found.","cancel_link":"Cancel","save_link":"Save","proceed_link":"Proceed","delete_check":"Delete?","ok_label":"OK","confirm_label":"I'm Sure","cancel_label":"Nevermind","file_singular":"file","file_plural":"files","delete_confirm":"You are about to permanently delete numfiles. Are you sure you're OK with that?","tamper1":"Sorry, there was a problem verifying the correct path to the files.","tamper2":"There was an error completing your request. The path to the directory has not been properly defined.","tamper3":"Sorry, but the name you specified cannot be processed.","tamper4":"An error has been triggered.","no_files_selected":"No files have been selected. Click on the table rows of the files you wish to select.","no_files_chosen":"No files have been chosen.","no_action":"No action has been selected.","no_destination":"No destination directory has been selected.","no_subdir_name":"You did not specify a name for your sub-directory.","unreadable_file":"Sorry, a file you have specified could not be read.","build_path":"Please build the path to your destination directory.","no_upload_support":"Your browser does not support the File Upload API. Please update.","exceeds_size":"This file exceeds the prettymax max file size.","type_not_permitted":"This file type is not permitted.","view_all_permitted":"View all permitted file types.","view_all_prohibited":"View all prohibited file types.","double_dots_override":"You may not use double dots or attempt to override the upload directory.","double_dots":"You may not use double dots in the filename.","creation_disabled":"Sub-directory creation is disabled.","no_override":"You may not attempt to override the upload directory.","multi_type":"You may not specify a script filetype prior to a non-script filetype.","upload_failure":"Sorry about that, but filename could not be uploaded.","rename_column":"Rename Column","delete_column":"Delete Column","insert_col_before":"Insert New Column Before","insert_col_after":"Insert New Column After","insert_row":"Insert New Row","delete_row":"Delete Row","save_backup":"Save Backup","new_column_name":"New Column Name","atleast_one_column":"There must be at least one column at all times.","atleast_one_row":"There must be at least one row at all times.","next_label":"Next","create_label":"Create","new_file_name":"New File Name","specify_file_name":"You must specify a file name.","specify_column_name":"You must specify at least one column name.","column_names":"Column Names, Comma-separated"};
/* ]]> */
</script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/file-away/lib/js/management.js?ver=3.9.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var fileaway_stats = {"ajaxurl":"http:\/\/gregorybanderson.elementfx.com\/wp-admin\/admin-ajax.php","nonce":"378242adbc"};
/* ]]> */
</script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/file-away/lib/js/stats.js?ver=3.9.6.1'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/themes/virtue/assets/js/vendor/modernizr.min.js'></script>
<link rel='https://api.w.org/' href='http://quanteco.github.io./wp-json/' />

 

<link rel='shortlink' href='http://wp.me/p765Dr-F' />


<script> var fileaway_filetype_groups = {'adobe' : ['abf', 'aep', 'afm', 'ai', 'as', 'eps', 'fla', 'flv', 'fm', 'indd', 'pdd', 'pdf', 'pmd', 'ppj', 'prc', 'ps', 'psb', 'psd', 'swf'], 'application' : ['bat', 'dll', 'exe', 'msi'], 'audio' : ['aac', 'aif', 'aifc', 'aiff', 'amr', 'ape', 'au', 'bwf', 'flac', 'iff', 'gsm', 'la', 'm4a', 'm4b', 'm4p', 'mid', 'mp2', 'mp3', 'mpc', 'ogg', 'ots', 'ram', 'raw', 'rex', 'rx2', 'spx', 'swa', 'tta', 'vox', 'wav', 'wma', 'wv'], 'compression' : ['7z', 'a', 'ace', 'afa', 'ar', 'bz2', 'cab', 'cfs', 'cpio', 'cpt', 'dar', 'dd', 'dmg', 'gz', 'lz', 'lzma', 'lzo', 'mar', 'rar', 'rz', 's7z', 'sda', 'sfark', 'shar', 'tar', 'tgz', 'xz', 'z', 'zip', 'zipx', 'zz'], 'css' : ['css', 'less', 'sass', 'scss'], 'image' : ['bmp', 'dds', 'exif', 'gif', 'hdp', 'hdr', 'iff', 'jfif', 'jpeg', 'jpg', 'jxr', 'pam', 'pbm', 'pfm', 'pgm', 'png', 'pnm', 'ppm', 'raw', 'rgbe', 'tga', 'thm', 'tif', 'tiff', 'webp', 'wdp', 'yuv'], 'msdoc' : ['doc', 'docm', 'docx', 'dot', 'dotx'], 'msexcel' : ['xls', 'xlsm', 'xlsb', 'xlsx', 'xlt', 'xltm', 'xltx', 'xlw'], 'openoffice' : ['dbf', 'dbf4', 'odp', 'ods', 'odt', 'stc', 'sti', 'stw', 'sxc', 'sxi', 'sxw'], 'powerpoint' : ['pot', 'potm', 'potx', 'pps', 'ppt', 'pptm', 'pptx', 'pub'], 'script' : ['asp', 'cfm', 'cgi', 'clas', 'class', 'cpp', 'htm', 'html', 'java', 'js', 'php', 'pl', 'py', 'rb', 'shtm', 'shtml', 'xhtm', 'xhtml', 'xml', 'yml'], 'text' : ['123', 'csv', 'log', 'psw', 'rtf', 'sql', 'txt', 'uof', 'uot', 'wk1', 'wks', 'wpd', 'wps'], 'video' : ['avi', 'divx', 'mov', 'm4p', 'm4v', 'mkv', 'mp4', 'mpeg', 'mpg', 'ogv', 'qt', 'rm', 'rmvb', 'vob', 'webm', 'wmv']}; var ssfa_filetype_icons = {'adobe' : '&#x21;', 'application' : '&#x54;', 'audio' : '&#x43;', 'compression' : '&#x27;', 'css' : '&#x28;', 'image' : '&#x31;', 'msdoc' : '&#x23;', 'msexcel' : '&#x24;', 'openoffice' : '&#x22;', 'powerpoint' : '&#x26;', 'script' : '&#x25;', 'text' : '&#x2e;', 'video' : '&#x57;', 'unknown' : '&#x29;'} </script>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<style type='text/css'>img#wpstats{display:none}</style><style type="text/css">#logo {padding-top:0px;}#logo {padding-bottom:0px;}#logo {margin-left:0px;}#logo {margin-right:0px;}#nav-main {margin-top:0px;}#nav-main {margin-bottom:0px;}.headerfont, .tp-caption {font-family:'Palatino Linotype', 'Book Antiqua', Palatino, serif;} 
  .topbarmenu ul li {font-family:Lato;}
  #kadbreadcrumbs {font-family:'MS Serif', 'New York', sans-serif;}input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; } input[type=number] {-moz-appearance: textfield;}.quantity input::-webkit-outer-spin-button,.quantity input::-webkit-inner-spin-button {display: none;}.product_item .product_details h5 {text-transform: none;}.product_item .product_details h5 {min-height:40px;}</style><!--[if lt IE 9]>
<script src="http://quanteco.github.io./wp-content/themes/virtue/assets/js/vendor/respond.min.js"></script>
<![endif]-->
<style type="text/css" id="syntaxhighlighteranchor"></style>
<link rel="icon" href="http://i0.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/cropped-iconga-54b80e4ev1_site_icon.png?fit=32%2C32" sizes="32x32" />
<link rel="icon" href="http://i0.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/cropped-iconga-54b80e4ev1_site_icon.png?fit=192%2C192" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="http://i0.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/cropped-iconga-54b80e4ev1_site_icon.png?fit=180%2C180" />
<meta name="msapplication-TileImage" content="http://i0.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/cropped-iconga-54b80e4ev1_site_icon.png?fit=270%2C270" />
<style type="text/css" title="dynamic-css" class="options-output">header #logo a.brand,.logofont{font-family:Lato;line-height:40px;font-weight:400;font-style:normal;font-size:32px;}.kad_tagline{font-family:Lato;line-height:20px;font-weight:400;font-style:normal;color:#444444;font-size:14px;}.product_item .product_details h5{font-family:Lato;line-height:20px;font-weight:normal;font-style:700;font-size:16px;}h1{font-family:'Palatino Linotype', 'Book Antiqua', Palatino, serif;line-height:40px;font-weight:400;font-style:normal;font-size:38px;}h2{font-family:'Bookman Old Style', serif;line-height:40px;font-weight:normal;font-style:normal;font-size:32px;}h3{font-family:'Bookman Old Style', serif;line-height:30px;font-weight:400;font-style:normal;font-size:24px;}h4{font-family:'Bookman Old Style', serif;line-height:25px;font-weight:400;font-style:normal;font-size:20px;}h5{font-family:'Bookman Old Style', serif;line-height:24px;font-weight:700;font-style:normal;font-size:18px;}body{font-family:'MS Serif', 'New York', sans-serif;line-height:20px;font-weight:400;font-style:normal;font-size:14px;}#nav-main ul.sf-menu a{font-family:Lato;line-height:18px;font-weight:400;font-style:normal;font-size:12px;}#nav-second ul.sf-menu a{font-family:Lato;line-height:22px;font-weight:400;font-style:normal;font-size:18px;}.kad-nav-inner .kad-mnav, .kad-mobile-nav .kad-nav-inner li a,.nav-trigger-case{font-family:Lato;line-height:20px;font-weight:400;font-style:normal;font-size:16px;}</style></head>
  <body class="single single-post postid-41 single-format-standard wide developing-distance-based-neighborhood-matrices">
    <div id="wrapper" class="container">
    <div id="kt-skip-link"><a href="#content">Skip to Main Content</a></div><header class="banner headerclass" role="banner">
  <section id="topbar" class="topclass">
    <div class="container">
      <div class="row">
        <div class="col-md-6 col-sm-6 kad-topbar-left">
          <div class="topbarmenu clearfix">
          <ul id="menu-site-links" class="sf-menu"><li  class="menu-home menu-item-297"><a href="http://quanteco.github.io./">Home</a></li>
<li  class="menu-research menu-item-296"><a href="http://quanteco.github.io./research/">Research</a></li>
<li  class="menu-eportfolio menu-item-295"><a href="http://quanteco.github.io./eportfolio/">ePortfolio</a></li>
<li  class="menu-blog-on-quantitative-ecology current_page_parent menu-item-323"><a href="http://quanteco.github.io./blog-on-quantitative-ecology/">Blog on Quantitative Ecology</a></li>
<li  class="menu-curriculum-vitae menu-item-325"><a href="http://quanteco.github.io./curriculum-vitae/">Curriculum Vitae</a></li>
<li  class="menu-contact menu-item-359"><a href="https://github.com/quanteco">Contact</a></li>
</ul>                                  </div>
        </div><!-- close col-md-6 --> 
        <div class="col-md-6 col-sm-6 kad-topbar-right">
          <div id="topbar-search" class="topbar-widget">
            <form role="search" method="get" id="searchform" class="form-search" action="http://quanteco.github.io./">
  <label class="hide" for="s">Search for:</label>
  <input type="text" value="" name="s" id="s" class="search-query" placeholder="Search">
  <button type="submit" id="searchsubmit" class="search-icon"><i class="icon-search"></i></button>
</form>        </div>
        </div> <!-- close col-md-6-->
      </div> <!-- Close Row -->
    </div> <!-- Close Container -->
  </section>
  <div class="container">
    <div class="row">
          <div class="col-md-4 clearfix kad-header-left">
            <div id="logo" class="logocase">
              <a class="brand logofont" href="http://quanteco.github.io./">
                              </a>
                         </div> <!-- Close #logo -->
       </div><!-- close logo span -->
              
    </div> <!-- Close Row -->
     
  </div> <!-- Close Container -->
   
     </header>      <div class="wrap contentclass" role="document">

          <div id="content" class="container">
    <div class="row single-article" itemscope="" itemtype="http://schema.org/BlogPosting">
      <div class="main col-lg-9 col-md-8" role="main">
                  <article class="post-41 post type-post status-publish format-standard has-post-thumbnail hentry category-r tag-autocorrelation tag-dbmem tag-mem tag-morans-i">
                                  <div class="imghoverclass postfeat post-single-img" itemprop="image">
                        <a href="http://quanteco.github.io./wp-content/uploads/2015/01/neighborhood.png" data-rel="lightbox" class="lightboxhover">
                          <img src="http://i1.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/neighborhood.png?resize=600%2C600" itemprop="image" alt="Developing Distance Based Neighborhood Matrices" />
                        </a>
                      </div>
                                <div class="postmeta updated">
      <div class="postdate bg-lightgray headerfont" itemprop="datePublished">
      <span class="postday">15</span>
      Dec 2015    </div>
</div> 
    <header>
      <h1 class="entry-title" itemprop="name headline">Developing Distance Based Neighborhood Matrices</h1>
      <div class="subhead">
    <span class="postauthortop author vcard">
    <i class="icon-user"></i> by  <span itemprop="author"><a href="http://quanteco.github.io./author/quanteco/" class="fn" rel="author">quanteco</a></span> |</span>
      
    <span class="postedintop"><i class="icon-folder-open"></i> posted in: <a href="http://quanteco.github.io./category/r/" rel="category tag">R</a></span>     <span class="kad-hidepostedin">|</span>
    <span class="postcommentscount">
    <i class="icon-comments-alt"></i> 0    </span>
</div>  
    </header>
    <div class="entry-content" itemprop="description articleBody">
      <p>For my first few blog posts, I will be porting over some of my previous blogs from another website, and in doing so, updating some of the code base, infrastructure, and content. I figured that I should first start with my blog posts focusing on <em>dealing with autocorrelation utilizing Moran&#8217;s Eigenvector Maps </em> (MEM; Dray et al. 2006, Griffith and Peres-Neto 2006).  The objectives of these posts are to introduce the MEM concepts, develop some R code and functions, and to utilize the functions to analyze some data.</p>
<p>A good place to start is a description of what MEM is and how it is developed.  In short, MEM is multivariate technique that takes a weighted neighborhood matrix and represents it in multivariate space. The advantage of the approach is that it can be incorporated into any linear model based analysis with relative ease. To date, several R packages have been developed recently to perform MEM; however, most lack flexibility and are developed for a certain data type or class. Thus, in these next few posts, I will be developing the functions needed to perform MEM on ordinary matrices and vectors (i.e., data structures that can deal with spatial, temporal, or phylogenetic information).  In addition, I will be developing some methods to select eigenvectors to include in linear models.</p>
<p>This first post will focus on taking a distance matrix and creating a neighborhood matrix from it. This neighborhood matrix can than be used to:</p>
<ol>
<li>Test for autocorrelation using Moran&#8217;s I</li>
<li>Develop spatial, temporal, spatiotemporal, or phylogenetic eigenvectors that represent autocorrelation patterns.</li>
</ol>
<p>There are a variety of rules that we can use to define these neighborhood matrices, especially if we are dealing with lattice data (i.e., data located in regions). For these cases, we can use rules based on chess piece movements (e.g., rook, queen) to define regions (e.g., counties) that are neighboring. However, often we deal with data within a domain where our data does not explicitly fit into regions, but rather they are points in space, time or even from an evolutionary spectrum. For these cases, we need some way of defining whether a site, time, or species is a neighbor or not with another site, time, or species and a way of expressing the difficultly of exchange between other sites, times, or species. This is where the weighted neighborhood matrix comes in, and this will be the topic of this post.</p>
<p>If we have data that are points in space or time, we can extract a distance matrix from them (this also can be done for phylogenetic distance with the proper genetic information). For example if we have two vectors representing an X and Y coordinate (on a flat plane [if X and Y are latitude and longitude we might need to use a function like <em>geoXY</em>()]), we can calculate a distance matrix in R using the <em>dist</em> function:</p>
<pre class="brush: r; light: true; title: ; notranslate" title="">
dist(cbind(x,y))
</pre>
<p>Here we have combined the two vectors into a matrix using the <em>cbind</em> function. By default we receive the lower triangle of the distance matrix, but we can see the entire matrix using the command:</p>
<pre class="brush: r; light: true; title: ; notranslate" title="">
dist(cbind(x,y),upper=T,diag=T)
</pre>
<p>or by changing the class of the object created</p>
<pre class="brush: r; light: true; title: ; notranslate" title="">
as.matrix(dist(cbind(x,y))
</pre>
<p>If this distance matrix (<img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BD%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{D}" title="&#92;mathbf{D}" class="latex" />) is stored as an object in R, we can use a variety of rules to calculate a weighted neighborhood matrix. Below, I focus on four different functions that describe the increase in difficultly of exchange between points or species. These functions are the ones described by Dray et al. (2006) and include: distance-based Moran’s Eigenvector Maps (dbmem), Linear Function, Concave-Down, and Concave-Up.</p>
<p>For all these methods, we need to derive two separate matrices: (1) a connectivity matrix and (2) an edge weight matrix. The connectivity matrix (<img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BB%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{B}" title="&#92;mathbf{B}" class="latex" />) simply contains information on whether points are connected and is binary, with 1s representing connection and 0s representing unconnected sites. The edge weighting matrix (<img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BA%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{A}" title="&#92;mathbf{A}" class="latex" />) is a little more complex and represents the difficulty of exchange between all points in the sample domain.</p>
<p>For the connectivity matrix, all we need is a threshold in which to say sites are no longer connected. Of course we want our function to be flexible, so we should allow this to be a user defined threshold, but there is a standard threshold used for dbmem. This is usually defined as the maximum distance on a minimum span tree. This span tree is simply a tree that connects all sites together with edges, and the minimum span tree is the tree with the lowest cost (i.e., represents the least difficult exchange). Luckily, the R package <em>vegan</em> provides an easy way of calculating the minimum span tree, of which we only need to find the maximum.</p>
<pre class="brush: r; light: true; title: ; notranslate" title="">
library(vegan)
thresh=max(spantree(D)$dist)
</pre>
<p>Once the threshold is defined, we can simply calculate <img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BB%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{B}" title="&#92;mathbf{B}" class="latex" /> using an <em>apply</em> statement:</p>
<pre class="brush: r; light: true; title: ; notranslate" title="">
library(vegan)
B&lt;-apply(D,2,function(x)ifelse(x&gt;thresh,0,1))
</pre>
<p>Calculating <img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BA%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{A}" title="&#92;mathbf{A}" class="latex" /> can be done similarly, but the weighting depends on which method is used. For <em>dbmem</em> we need to define <img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BA%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{A}" title="&#92;mathbf{A}" class="latex" /> such that:</p>
<p style="text-align: center;"><img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BA%7D%3D%5Ba_%7Bij%7D%5D%3D1-%5CBig+%28%5Cfrac%7Bd_%7Bij%7D%7D%7B4+%5Ctimes+thresh%7D+%5CBig+%29%5E2+&#038;bg=ffffff&#038;fg=000&#038;s=2" alt="&#92;mathbf{A}=[a_{ij}]=1-&#92;Big (&#92;frac{d_{ij}}{4 &#92;times thresh} &#92;Big )^2 " title="&#92;mathbf{A}=[a_{ij}]=1-&#92;Big (&#92;frac{d_{ij}}{4 &#92;times thresh} &#92;Big )^2 " class="latex" /></p>
<p>&nbsp;</p>
<p>where <img src="//s0.wp.com/latex.php?latex=d_%7Bij%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="d_{ij}" title="d_{ij}" class="latex" /> indexes the elements of <img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BD%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{D}" title="&#92;mathbf{D}" class="latex" />. The <em>linear function</em> is defined similarly, but no threshold is specified:</p>
<p style="text-align: center;"><img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BA%7D%3D%5Ba_%7Bij%7D%5D%3D1-%5CBig+%28%5Cfrac%7Bd_%7Bij%7D%7D%7Bmax%28%5Cmathbf%7BD%7D%29%7D+%5CBig+%29+&#038;bg=ffffff&#038;fg=000&#038;s=2" alt="&#92;mathbf{A}=[a_{ij}]=1-&#92;Big (&#92;frac{d_{ij}}{max(&#92;mathbf{D})} &#92;Big ) " title="&#92;mathbf{A}=[a_{ij}]=1-&#92;Big (&#92;frac{d_{ij}}{max(&#92;mathbf{D})} &#92;Big ) " class="latex" /></p>
<p>&nbsp;</p>
<p>Likewise, the <em>concave-down</em> function is similar to the <em>linear function</em>, with the latter half raised to the power of alpha:</p>
<p style="text-align: center;"><img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BA%7D%3D%5Ba_%7Bij%7D%5D%3D1-%5CBig+%28%5Cfrac%7Bd_%7Bij%7D%7D%7Bmax%28%5Cmathbf%7BD%7D%29%7D+%5CBig+%29%5E%5Calpha+&#038;bg=ffffff&#038;fg=000&#038;s=2" alt="&#92;mathbf{A}=[a_{ij}]=1-&#92;Big (&#92;frac{d_{ij}}{max(&#92;mathbf{D})} &#92;Big )^&#92;alpha " title="&#92;mathbf{A}=[a_{ij}]=1-&#92;Big (&#92;frac{d_{ij}}{max(&#92;mathbf{D})} &#92;Big )^&#92;alpha " class="latex" /></p>
<p>&nbsp;</p>
<p>Finally, the <em>concave-up</em> function is defined as:</p>
<p style="text-align: center;"><img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BA%7D%3D%5Ba_%7Bij%7D%5D%3D1%2Fd_%7Bij%7D%5E%5Cbeta+&#038;bg=ffffff&#038;fg=000&#038;s=2" alt="&#92;mathbf{A}=[a_{ij}]=1/d_{ij}^&#92;beta " title="&#92;mathbf{A}=[a_{ij}]=1/d_{ij}^&#92;beta " class="latex" /></p>
<p>&nbsp;</p>
<p>The <em>concave-up </em>function represents a similarity that decreases less rapidly for larger values of <img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BD%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{D}" title="&#92;mathbf{D}" class="latex" />. The methods can be easily calculated with an apply function in R (see code for full function below).</p>
<p>Finally, to compute the weighted neighborhood we just need to take the Hadamard product of <img src="//s0.wp.com/latex.php?latex=mathbf%7BB%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="mathbf{B}" title="mathbf{B}" class="latex" /> and <img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BA%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{A}" title="&#92;mathbf{A}" class="latex" />. If R this is simply,</p>
<pre class="brush: r; light: true; title: ; notranslate" title="">
W&lt;-B*A
</pre>
<p>However, I should note that the diagonal of <img src="//s0.wp.com/latex.php?latex=%5Cmathbf%7BW%7D&#038;bg=ffffff&#038;fg=000&#038;s=0" alt="&#92;mathbf{W}" title="&#92;mathbf{W}" class="latex" /> will be ones representing a connection. This is good if we are going to try to derive more complex relationships with other weight matrices (e.g., spatiotemporal designs), but for the most part we would like to have zeros on the diagonal. This can be done simply with the statement:</p>
<pre class="brush: r; light: true; title: ; notranslate" title="">
diag(W)&lt;-0
</pre>
<p>Below is a github file where I have combined all of these weight functions into a general R function named <em>weightmatrix</em>. This function requires a distance matrix, the method to be specified, and a few other arguments for flexibility of the function. By default the function performs <em>dbmem</em> weighting and uses a threshold based on a minimum span tree.</p>
<pre class="brush: r; title: ; notranslate" title="">weightmatrix&lt;-function (D, method = c(&quot;dbmem&quot;, &quot;linear&quot;, &quot;concave-up&quot;, &quot;concave-down&quot;,&quot;connectivity&quot;), thresh = NULL, alpha = NULL, beta = NULL, diag.mat = 0) {
  if (class(D) == &quot;dist&quot;)
    D = as.matrix(D)
  require(vegan)
  n &lt;- dim(D)[1]
  if (is.null(thresh))
    thresh = max(spantree(D)$dist)
  out = A = (B &lt;- array(dim = dim(D)))
  if (length(method) &gt; 1)
    method = &quot;dbmem&quot;
  B&lt;-apply(D,2,function(x)ifelse(x&gt;thresh,0,1))
  if(method==&quot;dbmem&quot;) A&lt;-apply(D,2,function(x)1 - ((x/(4 * thresh))^2))
  else if(method==&quot;linear&quot;)A&lt;-apply(D,2,function(x)1 - (x/max(D)))
  else if (method == &quot;concave-down&quot;) {
    if (is.null(alpha)) stop(&quot;alpha must be specified for the method 'concave-down'&quot;)
    A&lt;-apply(D,2,function(x)1 - (x/max(D))^alpha)
  }
  else if (method == &quot;concave-up&quot;) {
    if (is.null(beta)) stop(&quot;beta must be specified for the method 'concave-up&quot;)
    A&lt;-apply(D,2,function(x)1/x^beta)
  }
  else if (method == &quot;connectivity&quot;)A&lt;-B
  else stop(&quot;method must be 'dbmem', 'linear', 'concave-up', 'concave-down', or 'connectivity'&quot;)
  out &lt;- A * B
  if (diag.mat == 0) {
    diag(out) &lt;- 0
  }
  return(out)
}</pre>
<div class="wp-git-embed" style="margin-bottom:10px; border:1px solid #CCC; text-align:right; width:99%; margin-top:-13px; font-size:11px; font-style:italic;"><span style="display:inline-block; padding:4px;">weightmatrix.R</span><a style="display:inline-block; padding:4px 6px;" href="https://raw.github.com/quanteco/quanteco/master/R/weightmatrix.R#L32" target="_blank">view raw</a><a style="display:inline-block; padding:4px 6px; float:left;" href="https://github.com/quanteco/quanteco/blob/master/R/weightmatrix.R#L32" target="_blank">view file on <strong>GitHub</strong></a></div>
<p>Now, let&#8217;s try the function. We need to simulate some data and run the function. For sake of simplicity, we will perform the <em>dbmem</em> weighting.</p>
<pre class="brush: r; title: ; notranslate" title="">
D&lt;-as.matrix(dist(cbind(runif(100,0,100),runif(100,0,100))))
W&lt;-weightmatrix(D,method=&quot;dbmem&quot;)
W
</pre>
<p>Everything seems to work!</p>
<p>As with most of the functions created on this blog, the weightmatrix function is available in my github repository and can be installed (along with other functions from my blog) using the following R commands:</p>
<pre class="brush: r; title: ; notranslate" title="">
install.packages(&quot;devtools&quot;)
library(devtools)
install_github(&quot;quanteco/quanteco&quot;)
library(quanteco)
</pre>
<p>The benefit of installing the package, instead of coping the code, is that you will also get the associated help files and examples.</p>
<h5> References</h5>
<p>Dray, S., P. Legendre, and P. R. Peres-Neto. 2006. Spatial modeling: a comprehensive framework for principal coordinate analysis of neighborhood matrices (PCNM). Ecological Modeling <strong>196</strong>:483-493.</p>
<p>Griffith, D. A., and P. R. Peres-Neto. 2006. Spatial modeling in ecology: the flexibility of eigenfunction spatial analyses. Ecology <strong>87</strong>:2603–2613.</p>
<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>    </div>
    <footer class="single-footer">
              <span class="posttags"><i class="icon-tag"></i> <a href="http://quanteco.github.io./tag/autocorrelation/" rel="tag">autocorrelation</a>, <a href="http://quanteco.github.io./tag/dbmem/" rel="tag">dbmem</a>, <a href="http://quanteco.github.io./tag/mem/" rel="tag">mem</a>, <a href="http://quanteco.github.io./tag/morans-i/" rel="tag">Moran's I</a> </span>
                                  </footer>
      </article>
</div>

            
                      <aside class="col-lg-3 col-md-4 kad-sidebar" role="complementary">
              <div class="sidebar">
                     <section id="virtue_about_with_image-3" class="widget-1 widget-first widget virtue_about_with_image"><div class="widget-inner">    <div class="kad_img_upload_widget">
        <a href="http://quanteco.github.io./wp-content/uploads/2015/01/gregwinter2.jpg" rel="lightbox">        <img src="http://quanteco.github.io./wp-content/uploads/2015/01/gregwinter2.jpg" />
        </a>            </div>

    </div></section>    <section id="text-3" class="widget-2 widget widget_text"><div class="widget-inner"><h3>Gregory B. Anderson</h3>			<div class="textwidget">Dept. of Fish and Wildlife Conservation
Virginia Polytechnic Institute and State University
Blacksburg, VA 24061</div>
		</div></section><section id="nav_menu-3" class="widget-3 widget widget_nav_menu"><div class="widget-inner"><h3>Site Links</h3><ul id="menu-site-links-1" class="menu"><li  class="menu-home menu-item-297"><a href="http://quanteco.github.io./">Home</a></li>
<li  class="menu-research menu-item-296"><a href="http://quanteco.github.io./research/">Research</a></li>
<li  class="menu-eportfolio menu-item-295"><a href="http://quanteco.github.io./eportfolio/">ePortfolio</a></li>
<li  class="menu-blog-on-quantitative-ecology current_page_parent menu-item-323"><a href="http://quanteco.github.io./blog-on-quantitative-ecology/">Blog on Quantitative Ecology</a></li>
<li  class="menu-curriculum-vitae menu-item-325"><a href="http://quanteco.github.io./curriculum-vitae/">Curriculum Vitae</a></li>
<li  class="menu-contact menu-item-359"><a href="https://github.com/quanteco">Contact</a></li>
</ul></div></section>    <section id="kadence_recent_posts-3" class="widget-4 widget kadence_recent_posts"><div class="widget-inner">    <h3>Recent Posts</h3>    <ul>
        <li class="clearfix postclass">
        <a href="http://quanteco.github.io./2016/01/05/testing-site-and-time-contributions-to-variance-in-spatiotemporal-counts/" title="Testing Site and Time Contributions to Variance in Spatiotemporal Counts" class="recentpost_featimg">
          <img width="80" height="50" src="http://i1.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/propvar.png?resize=80%2C50" class="attachment-widget-thumb size-widget-thumb wp-post-image" alt="propvar" /></a>
        <a href="http://quanteco.github.io./2016/01/05/testing-site-and-time-contributions-to-variance-in-spatiotemporal-counts/" title="Testing Site and Time Contributions to Variance in Spatiotemporal Counts" class="recentpost_title">Testing Site and Time Contributions to Variance in Spatiotemporal Counts</a>
        <span class="recentpost_date">January 5, 2016</span>
        </li>
        <li class="clearfix postclass">
        <a href="http://quanteco.github.io./2016/01/04/morans-eigenvector-maps/" title="Moran&#8217;s Eigenvector Maps" class="recentpost_featimg">
          <img width="80" height="50" src="http://i1.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/autopatterns.png?resize=80%2C50" class="attachment-widget-thumb size-widget-thumb wp-post-image" alt="autopatterns" /></a>
        <a href="http://quanteco.github.io./2016/01/04/morans-eigenvector-maps/" title="Moran&#8217;s Eigenvector Maps" class="recentpost_title">Moran&#8217;s Eigenvector Maps</a>
        <span class="recentpost_date">January 4, 2016</span>
        </li>
        <li class="clearfix postclass">
        <a href="http://quanteco.github.io./2015/12/29/morans-i-calculation-and-testing/" title="Moran&#8217;s I (Calculation and Testing)" class="recentpost_featimg">
          <img width="80" height="50" src="http://i0.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/moransi.png?resize=80%2C50" class="attachment-widget-thumb size-widget-thumb wp-post-image" alt="moransi" /></a>
        <a href="http://quanteco.github.io./2015/12/29/morans-i-calculation-and-testing/" title="Moran&#8217;s I (Calculation and Testing)" class="recentpost_title">Moran&#8217;s I (Calculation and Testing)</a>
        <span class="recentpost_date">December 29, 2015</span>
        </li>
        <li class="clearfix postclass">
        <a href="http://quanteco.github.io./2015/12/15/developing-distance-based-neighborhood-matrices/" title="Developing Distance Based Neighborhood Matrices" class="recentpost_featimg">
          <img width="80" height="50" src="http://i1.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/neighborhood.png?resize=80%2C50" class="attachment-widget-thumb size-widget-thumb wp-post-image" alt="neighborhood" /></a>
        <a href="http://quanteco.github.io./2015/12/15/developing-distance-based-neighborhood-matrices/" title="Developing Distance Based Neighborhood Matrices" class="recentpost_title">Developing Distance Based Neighborhood Matrices</a>
        <span class="recentpost_date">December 15, 2015</span>
        </li>
        <li class="clearfix postclass">
        <a href="http://quanteco.github.io./2015/12/01/pastehelloworld/" title="paste(&#8220;Hello&#8221;,&#8221;World&#8221;)" class="recentpost_featimg">
          <img width="80" height="50" src="http://i2.wp.com/gregorybanderson.elementfx.com/wp-content/uploads/2015/01/helloworld.png?resize=80%2C50" class="attachment-widget-thumb size-widget-thumb wp-post-image" alt="helloworld" /></a>
        <a href="http://quanteco.github.io./2015/12/01/pastehelloworld/" title="paste(&#8220;Hello&#8221;,&#8221;World&#8221;)" class="recentpost_title">paste(&#8220;Hello&#8221;,&#8221;World&#8221;)</a>
        <span class="recentpost_date">December 1, 2015</span>
        </li>
        </ul>
    </div></section><section id="nav_menu-4" class="widget-5 widget widget_nav_menu"><div class="widget-inner"><h3>Recent Papers</h3><ul id="menu-recent-papers" class="menu"><li  class="menu-multi-scale-occupancy-models-to-infer-host-and-site-occupancy menu-item-344"><a href="http://www.sciencedirect.com/science/article/pii/S0380133015000039">Multi-scale Occupancy Models to Infer Host and Site Occupancy</a></li>
<li  class="menu-round-gobies-and-the-ecology-of-vhsv-genotype-ivb menu-item-306"><a target="_blank" href="http://www.sciencedirect.com/science/article/pii/S0380133014001853">Round Gobies and the Ecology of VHSV Genotype IVb</a></li>
<li  class="menu-dealing-with-uncertainty-in-fish-passage menu-item-298"><a target="_blank" href="http://link.springer.com/article/10.1007%2Fs00267-012-9886-6">Dealing with Uncertainty in Fish Passage</a></li>
<li  class="menu-cyprinid-herpesvirus-3-in-the-great-lakes menu-item-299"><a target="_blank" href="http://www.jwildlifedis.org/doi/abs/10.7589/2012-02-062">Cyprinid Herpesvirus-3 in the Great Lakes</a></li>
<li  class="menu-occupancy-estimation-of-holiday-darter menu-item-300"><a target="_blank" href="http://www.tandfonline.com/doi/abs/10.1080/00028487.2011.644193">Occupancy Estimation of Holiday Darter</a></li>
</ul></div></section><section id="nav_menu-5" class="widget-6 widget widget_nav_menu"><div class="widget-inner"><h3>ePortfolio</h3><ul id="menu-eportfolio" class="menu"><li  class="menu-cirrus-clouds-and-classification menu-item-301"><a href="index.php?page_id=13/#cirrus">Cirrus Clouds and Classification</a></li>
<li  class="menu-autocorrelation-in-baci-designs menu-item-302"><a href="index.php?page_id=13/#baci">Autocorrelation in BACI Designs</a></li>
<li  class="menu-fluvial-geostatistical-sdm menu-item-303"><a href="index.php?page_id=13/#geostat">Fluvial Geostatistical SDM</a></li>
<li  class="menu-flow-path-direction-models menu-item-304"><a href="index.php?page_id=13/#dflow">Flow Path Direction Models</a></li>
<li  class="menu-multi-species-sdm menu-item-305"><a href="index.php?page_id=13/#community">Multi-species SDM</a></li>
</ul></div></section><section id="categories-4" class="widget-7 widget widget_categories"><div class="widget-inner"><h3>Categories</h3>		<ul>
	<li class="cat-item cat-item-2"><a href="http://quanteco.github.io./category/hello/" >Hello</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://quanteco.github.io./category/r/" >R</a>
</li>
		</ul>
</div></section><section id="widget_profile-3" class="widget-8 widget-last widget widget_widget_profile"><div class="widget-inner"><h3>Github</h3><div class="wpgithub-profile"><div class="wpgithub-user"><a href="https://github.com/quanteco" title="View quanteco's Github"><img src="http://gravatar.com/avatar/?s=56" alt="View quanteco's Github" /></a><h3 class="wpgithub-username"><a href="https://github.com/quanteco" title="View quanteco's Github">quanteco</a></h3><p class="wpgithub-name">Gregory Anderson</p><p class="wpgithub-location">Blacksburg, VA</p></div><a class="wpgithub-bblock" href="https://github.com/quanteco?tab=repositories"><span class="wpgithub-count">4</span><span class="wpgithub-text">Public Repos</span></a><a class="wpgithub-bblock" href="https://gist.github.com/quanteco"><span class="wpgithub-count">0</span><span class="wpgithub-text">Public Gists</span></a><a class="wpgithub-bblock" href="https://github.com/quanteco/followers"><span class="wpgithub-count">0</span><span class="wpgithub-text">Followers</span></a></div></div></section>              </div><!-- /.sidebar -->
            </aside><!-- /aside -->
                    </div><!-- /.row-->
        </div><!-- /.content -->
      </div><!-- /.wrap -->
      <footer id="containerfooter" class="footerclass" role="contentinfo">
  <div class="container">
  	<div class="row">
  								        			        </div>
        <div class="footercredits clearfix">
    		
    		        	<p>&copy; 2016 Gregory B. Anderson. All Rights Reserved.</p>
    	</div>

  </div>

</footer>

	<div style="display:none">
	</div>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/syntaxhighlighter/third-party-brushes/shBrushR.js?ver=20100919'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://quanteco.github.io./wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://quanteco.github.io./wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/resume-builder/js/jquery.raty.js?ver=1.0'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/resume-builder/js/functions.js?ver=1.0'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201614'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2016Apraa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.4.2'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-includes/js/masonry.min.js?ver=3.1.2'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/themes/virtue/assets/js/min/plugins-min.js?ver=262'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-content/themes/virtue/assets/js/main.js?ver=262'></script>
<script type='text/javascript' src='http://quanteco.github.io./wp-includes/js/wp-embed.min.js?ver=4.4.2'></script>
<script type='text/javascript' src='http://stats.wp.com/e-201614.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:3.8.2',blog:'104885985',post:'41',tz:'0',srv:'gregorybanderson.elementfx.com'} ]);
	_stq.push([ 'clickTrackerInit', '104885985', '41' ]);
</script>
    </div><!--Wrapper-->
  </body>
</html>
